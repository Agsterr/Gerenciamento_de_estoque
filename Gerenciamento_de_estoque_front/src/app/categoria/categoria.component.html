<!-- src/app/components/categoria.component.html -->
<div class="categoria-container">
  <h2>Gerenciamento de Categorias</h2>

  <!-- Mensagens de Sucesso ou Erro -->
  <div *ngIf="mensagem" class="mensagem mensagem--sucesso" role="alert" aria-live="assertive">
    {{ mensagem }}
  </div>
  <div *ngIf="mensagemErro" class="mensagem mensagem--erro" role="alert" aria-live="assertive">
    {{ mensagemErro }}
  </div>

  <!-- Botão para Adicionar Nova Categoria -->
  <div class="categoria-menu">
    <button (click)="toggleNovaCategoriaForm()" type="button" class="btn btn--primario">
      <i class="fas fa-plus-circle"></i> Nova Categoria
    </button>
  </div>

  <!-- Lista de Categorias -->
  <div class="categoria-lista">
    <h3>Categorias Existentes</h3>
    <table class="categoria-tabela" role="table">
      <thead>
        <tr>
          <th scope="col">Nome</th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let categoria of categorias">
          <td>{{ categoria.nome }}</td>
          <td>
            <button type="button" class="btn btn--deletar" (click)="deletarCategoria(categoria.id)">
              <i class="fas fa-trash-alt"></i> Deletar
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Formulário de Criação -->
  <div *ngIf="showNovaCategoriaInput" class="categoria-formulario">
    <h3>Criar Nova Categoria</h3>
    <form [formGroup]="categoriaForm" (ngSubmit)="criarCategoria()" aria-labelledby="form-nova-categoria">
      <label for="nome" class="categoria-formulario__label">Nome da Categoria:</label>
      <input
        id="nome"
        type="text"
        formControlName="nome"
        placeholder="Digite o nome"
        class="categoria-formulario__input"
        aria-required="true"
      />

      <button type="submit" [disabled]="categoriaForm.invalid" class="btn btn--salvar">
        <i class="fas fa-check"></i> Criar
      </button>
    </form>
  </div>
</div>
